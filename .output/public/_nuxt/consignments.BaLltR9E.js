import{a as y,_ as M,b as V}from"./DeleteDialog.BdjaAveE.js";import{_ as j,a as J,b as O}from"./EditCustomerForm.BHvk9BI4.js";import{r as o,f as P,c as g,a as e,b as A,t as l,u as K,F as R,g as U,h as c,i,o as r}from"./entry.B6jrM4sW.js";const Y={class:"flex flex-wrap sm:flex-row gap-8"},q={class:"w-full"},G={class:"mb-4"},H={class:"w-full rounded-2xl bg-white p-4 shadow-lg"},Q={class:"mb-6 flex items-center justify-between"},W={class:"flex items-center justify-between w-full"},X=e("div",{class:"flex flex-col"},[e("span",{class:"ml-2 font-bold text-black"},"Consignment List"),e("span",{class:"ml-2 text-xs text-gray-500"}," as of ")],-1),Z={class:"rounded-full border border-gray-200 p-1"},ee={class:"mb-4 flex items-center justify-between space-x-12"},te={class:"flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-semibold text-green-700"},se={class:"m-auto block"},oe={class:"w-full divide-y divide-gray-200"},ne=e("thead",{class:"bg-gray-100"},[e("tr",{class:""},[e("th",{class:"px-4 py-2 text-left"},"Consignee"),e("th",{class:"px-4 py-2 text-left"},"No. Containers"),e("th",{class:"px-4 py-2 text-left"},"Cont. Size"),e("th",{class:"px-4 py-2 text-left"},"Transport"),e("th",{class:"px-4 py-2 text-left"},"Destination"),e("th",{class:"px-4 py-2 text-left"},"Overseer"),e("th",{class:"px-4 py-2 text-left"},"Actions")])],-1),ae={class:"px-4 py-2"},le={class:"px-4 py-2"},re={class:"px-4 py-2"},ce={class:"px-4 py-2"},ie={class:"px-4 py-2"},ue={class:"px-4 py-2"},de={class:"flex items-center gap-6 px-4 py-2"},pe=["onClick"],me=["onClick"],_e=["onClick"],ye={__name:"consignments",props:{title:{type:String,default:""}},setup(fe){const C=[{id:1,consignee:"John Doe",containers:7,containerSize:'40" FL',destination:"Dar-es-salaam",transport:"Maersk",overseer:"Chambi Chachambe"},{id:2,consignee:"Jane Deer",containers:3,containerSize:'20" DRY',destination:"Dar-es-salaam",transport:"Maersk",overseer:"John Kisomo"}],a=o([]),D=new Date,b={weekday:"long",year:"numeric",month:"long",day:"numeric"},k=D.toLocaleDateString("en-US",b),u=o(!1),d=o(!1),p=o(!1),m=o(!1),f=o({}),x=o({}),h=o({}),_=o(!1);function w(t){f.value=t,u.value=!0}function F(t){x.value=t,p.value=!0}function E(){d.value=!1,payload!=null&&(console.log("the payload",payload),a.value.push(payload))}function S(){p.value=!1,payload!=null&&(console.log("the payload",payload),a.value=a.value.map(t=>t.ID==payload.ID?payload:t))}function I(t){h.value=t,m.value=!0}async function $(){_.value=!0;const t=await y.delete(`http://localhost:3006/api/customer/delete/${h.value.ID}`);console.log(t),t.status==200,_.value=!1,a.value=a.value.filter(n=>n.ID!==employeeToDelete.value),showEmployeeDeleteDialog.value=!1}return P(async()=>{try{const t=await y.get("http://localhost:3006/api/customers");a.value=t.data}catch(t){console.error("Error fetching data:",t),a.value=null}}),(t,n)=>{const T=M,N=j,z=O,B=J,L=V;return r(),g("div",Y,[e("div",q,[e("div",G,[e("div",H,[e("div",Q,[e("div",W,[X,e("button",Z,[A(T,{class:"h-7 w-7 cursor-pointer",onClick:n[0]||(n[0]=s=>d.value=!0)})])])]),e("div",ee,[e("span",te,l(K(k)),1)]),e("div",se,[e("table",oe,[ne,e("tbody",null,[(r(),g(R,null,U(C,s=>e("tr",{key:s.id},[e("td",ae,l(s.consignee),1),e("td",le,l(s.containers),1),e("td",re,l(s.containerSize),1),e("td",ce,l(s.transport),1),e("td",ie,l(s.destination),1),e("td",ue,l(s.overseer),1),e("td",de,[e("span",{class:"text-[#292a5e] text-sm font-medium hover:text-black duration-300 cursor-pointer",onClick:v=>w(s)},"View",8,pe),e("span",{class:"text-[#d4af37] text-sm font-medium hover:text-black duration-300 cursor-pointer",onClick:v=>F(s)}," Edit ",8,me),e("span",{class:"text-red-600 text-sm font-medium hover:text-black duration-300 cursor-pointer",onClick:v=>I(s)},"Delete",8,_e)])])),64))])])])])])]),u.value?(r(),c(N,{key:0,customer:f.value,onClose:n[1]||(n[1]=s=>u.value=!1)},null,8,["customer"])):i("",!0),d.value?(r(),c(z,{key:1,onClose:E})):i("",!0),p.value?(r(),c(B,{key:2,customerdata:x.value,onClose:S},null,8,["customerdata"])):i("",!0),m.value?(r(),c(L,{key:3,entity:"customer",loading:_.value,onProceed:$,onClose:n[2]||(n[2]=s=>m.value=!1)},null,8,["loading"])):i("",!0)])}}};export{ye as default};
