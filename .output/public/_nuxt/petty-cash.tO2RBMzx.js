import{a as y,_ as P,b as V}from"./DeleteDialog.BdjaAveE.js";import{_ as M,a as A,b as O}from"./EditCustomerForm.BHvk9BI4.js";import{r as o,f as J,c as g,a as e,b as L,t as c,u as R,F as U,g as z,h as r,i as u,l as G,o as n}from"./entry.B6jrM4sW.js";const H={class:"flex flex-wrap sm:flex-row gap-8"},K={class:"w-full"},Q={class:"mb-4"},W={class:"w-full rounded-2xl bg-white p-4 shadow-lg"},X={class:"mb-6 flex items-center justify-between"},Y={class:"flex items-center justify-between w-full"},Z=e("div",{class:"flex flex-col"},[e("span",{class:"ml-2 font-bold text-black"},"Petty Cashbook"),e("span",{class:"ml-2 text-xs text-gray-500"}," For the month of ")],-1),ee={class:"rounded-full border border-gray-200 p-1"},te={class:"mb-4 flex items-center justify-between space-x-12"},se={class:"flex items-center rounded-md bg-green-50 px-2 py-1 text-xl font-semibold text-green-700"},oe=G('<div class="summary flex flex-col gap-3 my-4"><div class="flex items-center justify-start gap-5"><span class="font-medium text-sm">Spent:</span><span class="font-semibold text-sm">Tsh 420,000</span></div><div class="flex items-center justify-start gap-5"><span class="font-medium text-sm">Float:</span><span class="font-semibold text-sm">Tsh 1,500,000 </span></div><div class="flex items-center justify-start gap-5"><span class="font-medium text-sm">Overspent:</span><span class="font-semibold text-sm">Tsh 0</span></div></div>',1),ae={class:"m-auto block"},le={class:"w-full divide-y divide-gray-200"},ne=e("thead",{class:"bg-gray-100"},[e("tr",{class:""},[e("th",{class:"px-4 py-2 text-left"},"Requested By"),e("th",{class:"px-4 py-2 text-left"},"Amount"),e("th",{class:"px-4 py-2 text-left"},"Purpose"),e("th",{class:"px-4 py-2 text-left"},"Date requested"),e("th",{class:"px-4 py-2 text-left"},"Actions")])],-1),ce={class:"px-4 py-2"},re={class:"px-4 py-2"},ue={class:"px-4 py-2"},de={class:"px-4 py-2"},ie={class:"flex items-center gap-6 px-4 py-2"},me=["onClick"],pe=["onClick"],fe=["onClick"],ye={__name:"petty-cash",props:{title:{type:String,default:""}},setup(_e){const C=[{id:1,requestedBy:"John Doe",amount:"200,000",purpose:"Clearance",cashoutDate:"7 March"},{id:2,requestedBy:"Jane Deer",amount:"220,000",purpose:"Customs clearance",cashoutDate:"13 March"}],l=o([]),b=new Date,D={month:"long"},k=b.toLocaleDateString("en-US",D),d=o(!1),i=o(!1),m=o(!1),p=o(!1),_=o({}),x=o({}),h=o({}),f=o(!1);function w(t){_.value=t,d.value=!0}function F(t){x.value=t,m.value=!0}function E(){i.value=!1,payload!=null&&(console.log("the payload",payload),l.value.push(payload))}function B(){m.value=!1,payload!=null&&(console.log("the payload",payload),l.value=l.value.map(t=>t.ID==payload.ID?payload:t))}function I(t){h.value=t,p.value=!0}async function T(){f.value=!0;const t=await y.delete(`http://localhost:3006/api/customer/delete/${h.value.ID}`);console.log(t),t.status==200,f.value=!1,l.value=l.value.filter(a=>a.ID!==employeeToDelete.value),showEmployeeDeleteDialog.value=!1}return J(async()=>{try{const t=await y.get("http://localhost:3006/api/customers");l.value=t.data}catch(t){console.error("Error fetching data:",t),l.value=null}}),(t,a)=>{const S=P,$=M,j=O,q=A,N=V;return n(),g("div",H,[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[Z,e("button",ee,[L(S,{class:"h-7 w-7 cursor-pointer",onClick:a[0]||(a[0]=s=>i.value=!0)})])])]),e("div",te,[e("span",se,c(R(k)),1)]),oe,e("div",ae,[e("table",le,[ne,e("tbody",null,[(n(),g(U,null,z(C,s=>e("tr",{key:s.id},[e("td",ce,c(s.requestedBy),1),e("td",re,c(s.amount),1),e("td",ue,c(s.purpose),1),e("td",de,c(s.cashoutDate),1),e("td",ie,[e("span",{class:"text-[#292a5e] text-sm font-medium hover:text-black duration-300 cursor-pointer",onClick:v=>w(s)},"View",8,me),e("span",{class:"text-[#d4af37] text-sm font-medium hover:text-black duration-300 cursor-pointer",onClick:v=>F(s)}," Edit ",8,pe),e("span",{class:"text-red-600 text-sm font-medium hover:text-black duration-300 cursor-pointer",onClick:v=>I(s)},"Delete",8,fe)])])),64))])])])])])]),d.value?(n(),r($,{key:0,customer:_.value,onClose:a[1]||(a[1]=s=>d.value=!1)},null,8,["customer"])):u("",!0),i.value?(n(),r(j,{key:1,onClose:E})):u("",!0),m.value?(n(),r(q,{key:2,customerdata:x.value,onClose:B},null,8,["customerdata"])):u("",!0),p.value?(n(),r(N,{key:3,entity:"customer",loading:f.value,onProceed:T,onClose:a[2]||(a[2]=s=>p.value=!1)},null,8,["loading"])):u("",!0)])}}};export{ye as default};
