import{a as w,c as j,d as N,_ as ue,b as fe}from"./DeleteDialog.BdjaAveE.js";import{r as a,o as s,h as f,w as E,a as e,j as k,v as C,k as L,c as h,d as B,f as U,t as y,g as F,F as R,b as J,u as _e,i as $,l as pe}from"./entry.B6jrM4sW.js";import{_ as q}from"./2.Cat9qr6O.js";const xe={class:"lg:m-24"},ve=e("p",{class:"font-medium flex items-center mb-3"},"Create a new employee account",-1),he={class:"flex flex-col my-2"},ye=e("label",{for:"firstName",class:"text-xs font-medium my-1"},"First Name",-1),ge={class:"flex flex-col my-2"},be=e("label",{for:"lastName",class:"text-xs font-medium my-1"},"Last Name",-1),$e={class:"flex flex-col my-2"},we=e("label",{for:"email",class:"text-xs font-medium my-1"},"Email",-1),ke=e("div",{class:"flex items-center my-2"},[e("span",{class:"font-medium text-xs text-[#d4af37]"},[B("All new employees have the password "),e("span",{class:"font-bold"},"Employee00")])],-1),Ce={key:0},Ne={__name:"CreateEmployeeForm",emits:["close"],setup(v,{emit:m}){const i=m,d=a(!1),l=a({firstName:"",lastName:"",email:"",password:"Employee00"});async function c(){console.log("calling submit"),d.value=!0;const r=await w.post("http://localhost:3006/api/users",{...l.value});d.value=!1,console.log(r),r.status==200,i("close",r.data)}function p(){i("close")}return(r,o)=>{const _=j,b=N;return s(),f(b,{onCloseModal:p},{default:E(()=>[e("form",xe,[ve,e("div",he,[ye,k(e("input",{"onUpdate:modelValue":o[0]||(o[0]=x=>l.value.firstName=x),type:"text",name:"firstName",placeholder:"Jane",class:"border border-gray-300 p-2 rounded-lg text-sm"},null,512),[[C,l.value.firstName]])]),e("div",ge,[be,k(e("input",{"onUpdate:modelValue":o[1]||(o[1]=x=>l.value.lastName=x),type:"text",name:"lastName",placeholder:"Doe",class:"border border-gray-300 p-2 rounded-lg text-sm"},null,512),[[C,l.value.lastName]])]),e("div",$e,[we,k(e("input",{"onUpdate:modelValue":o[2]||(o[2]=x=>l.value.email=x),type:"email",name:"email",placeholder:"John@doe.dot",class:"border border-gray-300 p-2 rounded-lg text-sm"},null,512),[[C,l.value.email]])]),ke,e("button",{type:"submit",onClick:L(c,["prevent"]),class:"flex items-center justify-center py-2 px-3 mt-3 text-xs rounded-lg bg-[#292a5e] min-w-[150px] text-white font-medium hover:bg-gray-300 hover:text-[#292a5e] disabled:bg-gray-600 duration-300"},[d.value?(s(),f(_,{key:1,size:"small",class:"h-4 w-4"})):(s(),h("span",Ce,"Create Employee"))])])]),_:1})}}},Ee=Ne,De={class:"lg:m-24"},Fe=e("p",{class:"font-medium flex items-center mb-3"},"Update employee data",-1),Re={class:"flex flex-col my-2"},Me=e("label",{for:"firstName",class:"text-xs font-medium my-1"},"First Name",-1),je={class:"flex flex-col my-2"},Le=e("label",{for:"lastName",class:"text-xs font-medium my-1"},"Last Name",-1),Ve={class:"flex flex-col my-2"},Te=e("label",{for:"email",class:"text-xs font-medium my-1"},"Email",-1),Ie=e("div",{class:"flex items-center my-2"},[e("span",{class:"font-medium text-xs text-[#d4af37]"},[B("All new employees have the password "),e("span",{class:"font-bold"},"Employee00")])],-1),Ue={key:0},ze={__name:"EditEmployeeForm",props:{userdata:{type:Object,default:{ID:"",firstName:"",lastName:"",email:""}}},emits:["close"],setup(v,{emit:m}){const i=v,d=m,l=a(!1),c=a({firstName:"",lastName:"",email:""});async function p(){console.log("calling submit"),l.value=!0;const o=await w.patch(`http://localhost:3006/api/users/update/${i.userdata.ID}`,{...c.value});l.value=!1,console.log(o),o.status==200,d("close",o.data)}function r(){d("close")}return U(function(){i.userdata.firstName!=""&&(c.value={...i.userdata})}),(o,_)=>{const b=j,x=N;return s(),f(x,{onCloseModal:r},{default:E(()=>[e("form",De,[Fe,e("div",Re,[Me,k(e("input",{"onUpdate:modelValue":_[0]||(_[0]=g=>c.value.firstName=g),type:"text",name:"firstName",placeholder:"Jane",class:"border border-gray-300 p-2 rounded-lg text-sm"},null,512),[[C,c.value.firstName]])]),e("div",je,[Le,k(e("input",{"onUpdate:modelValue":_[1]||(_[1]=g=>c.value.lastName=g),type:"text",name:"lastName",placeholder:"Doe",class:"border border-gray-300 p-2 rounded-lg text-sm"},null,512),[[C,c.value.lastName]])]),e("div",Ve,[Te,k(e("input",{"onUpdate:modelValue":_[2]||(_[2]=g=>c.value.email=g),type:"email",name:"email",placeholder:"John@doe.dot",class:"border border-gray-300 p-2 rounded-lg text-sm"},null,512),[[C,c.value.email]])]),Ie,e("button",{type:"submit",onClick:L(p,["prevent"]),class:"flex items-center justify-center py-2 px-3 mt-3 text-xs rounded-lg bg-[#292a5e] min-w-[150px] text-white font-medium hover:bg-gray-300 hover:text-[#292a5e] disabled:bg-gray-600 duration-300"},[l.value?(s(),f(b,{key:1,size:"small",class:"h-4 w-4"})):(s(),h("span",Ue,"Create Employee"))])])]),_:1})}}},Se=ze,Oe={class:"lg:m-24"},Pe=e("p",{class:"font-medium flex items-center mb-3"},"Create a new user role",-1),Ae={class:"flex flex-col my-2"},Je=e("label",{for:"roleName",class:"text-xs font-medium my-1"},"Role Name",-1),Be={key:0},qe={__name:"CreateRoleForm",emits:["close"],setup(v,{emit:m}){const i=m,d=a(!1),l=a({name:""});async function c(){console.log("calling submit"),d.value=!0;const r=await w.post("http://localhost:3006/api/roles",{...l.value});d.value=!1,console.log(r),r.status==200,i("close",r.data)}function p(){i("close")}return(r,o)=>{const _=j,b=N;return s(),f(b,{onCloseModal:p},{default:E(()=>[e("form",Oe,[Pe,e("div",Ae,[Je,k(e("input",{"onUpdate:modelValue":o[0]||(o[0]=x=>l.value.name=x),type:"text",name:"roleName",placeholder:"Minstrel",class:"border border-gray-300 p-2 rounded-lg text-sm"},null,512),[[C,l.value.name]])]),e("button",{type:"submit",onClick:L(c,["prevent"]),class:"flex items-center justify-center py-2 px-3 mt-3 text-xs rounded-lg bg-[#292a5e] min-w-[150px] text-white font-medium hover:bg-gray-300 hover:text-[#292a5e] disabled:bg-gray-600 duration-300"},[d.value?(s(),f(_,{key:1,size:"small",class:"h-4 w-4"})):(s(),h("span",Be,"Create Role"))])])]),_:1})}}},Ge=qe,He={class:"lg:m-24"},Ke=e("p",{class:"font-medium flex items-center mb-3"},"Edit a user role",-1),Qe={class:"flex flex-col my-2"},We=e("label",{for:"roleName",class:"text-xs font-medium my-1"},"Role Name",-1),Xe={key:0},Ye={__name:"EditRoleForm",props:{roledata:{type:Object,default:{ID:"",name:""}}},emits:["close"],setup(v,{emit:m}){const i=v,d=m,l=a(!1),c=a({ID:"",name:""});async function p(){console.log("calling submit"),l.value=!0;const o=await w.patch(`http://localhost:3006/api/roles/update/${c.value.name}`,{...c.value});l.value=!1,console.log(o),o.status==200,d("close",o.data)}function r(){d("close")}return U(function(){i.roledata.name!=""&&(c.value=i.roledata)}),(o,_)=>{const b=j,x=N;return s(),f(x,{onCloseModal:r},{default:E(()=>[e("form",He,[Ke,e("div",Qe,[We,k(e("input",{"onUpdate:modelValue":_[0]||(_[0]=g=>c.value.name=g),type:"text",name:"roleName",placeholder:"Minstrel",class:"border border-gray-300 p-2 rounded-lg text-sm"},null,512),[[C,c.value.name]])]),e("button",{type:"submit",onClick:L(p,["prevent"]),class:"flex items-center justify-center py-2 px-3 mt-3 text-xs rounded-lg bg-[#292a5e] min-w-[150px] text-white font-medium hover:bg-gray-300 hover:text-[#292a5e] disabled:bg-gray-600 duration-300"},[l.value?(s(),f(b,{key:1,size:"small",class:"h-4 w-4"})):(s(),h("span",Xe,"Update Role"))])])]),_:1})}}},Ze=Ye,et={class:"flex flex-col p-5 lg:mx-24 lg:mb-24"},tt={class:"role flex flex-col items-start"},st={class:"font-medium capitalize text-lg lg:text-xl"},ot={class:"role flex flex-col items-start"},lt=e("span",{class:"text-[#292a5e] text-sm mt-3 mb-1"},"People with this role have the permission to:",-1),at={class:"perms flex flex-col items-start"},nt=e("input",{class:"rounded-full",type:"checkbox",checked:""},null,-1),it={class:"font-medium text-sm"},ct=e("span",{class:"text-red-600 text-xs font-medium cursor-pointer"}," remove ",-1),rt=e("span",{class:"text-[#d4af37] cursor-pointer my-6 text-sm font-medium"},"+ Add permission(s)",-1),mt={__name:"RoleDetailsModal",props:{role:{type:Object}},emits:["close"],setup(v,{emit:m}){const i=m;function d(){i("close")}return(l,c)=>{const p=N;return s(),f(p,{onCloseModal:d},{default:E(()=>[e("div",et,[e("div",tt,[e("h2",st,"Role name: "+y(v.role.name),1)]),e("div",ot,[lt,e("div",at,[(s(),h(R,null,F(5,r=>e("div",{key:r,class:"flex gap-3 items-center p-2 my-1"},[nt,e("span",it," permission "+y(r),1),ct])),64))])]),rt])]),_:1})}}},dt=mt,ut={class:"flex flex-col p-5 lg:mx-24 lg:mb-24"},ft={class:"role flex flex-col items-start"},_t={class:"font-medium capitalize text-lg lg:text-xl"},pt=e("div",{class:"flex gap-4"},[e("span",{class:"font-medium"},"Roles: "),e("span",{class:"font-medium capitalize"},"Employee, ")],-1),xt={class:"flex gap-4"},vt=e("span",{class:"font-medium"},"Email: ",-1),ht={class:"font-medium capitalize"},yt={class:"role flex flex-col items-start"},gt={class:"text-[#292a5e] text-sm mt-3 mb-1"},bt={class:"perms flex flex-col items-start"},$t={class:"font-medium text-sm"},wt=e("span",{class:"text-red-600 text-xs font-medium cursor-pointer"}," remove ",-1),kt={__name:"EmployeeDetailsModal",props:{staff:{type:Object,default:{firstName:"John",lastName:"Doe",email:"john@doe.com"}}},emits:["close"],setup(v,{emit:m}){const i=m;function d(){i("close")}return(l,c)=>{const p=N;return s(),f(p,{onCloseModal:d},{default:E(()=>[e("div",ut,[e("div",ft,[e("h2",_t,"Name: "+y(v.staff.firstName+" "+v.staff.lastName),1),pt,e("div",xt,[vt,e("span",ht,y(v.staff.email),1)])]),e("div",yt,[e("span",gt,y()+" is responsible for these consignments:",1),e("div",bt,[(s(),h(R,null,F(5,r=>e("div",{key:r,class:"flex gap-3 items-center p-2 my-1"},[e("span",$t," Consignment "+y(r),1),wt])),64))])])])]),_:1})}}},Ct=kt,Nt={class:"flex flex-wrap sm:flex-row gap-4"},Et={class:"w-full lg:w-3/5"},Dt={class:"mb-4"},Ft={class:"w-full rounded-2xl bg-white p-4 shadow-lg"},Rt={class:"flex items-center justify-between"},Mt=e("p",{class:"font-bold text-black"},"Staff",-1),jt={class:"rounded-full block border border-gray-200 p-1"},Lt={href:"#",class:"relative flex gap-8"},Vt=e("img",{alt:"Maurice Lokumba",src:q,class:"mx-auto h-10 w-10 rounded-full object-cover"},null,-1),Tt={class:"flex flex-col"},It={class:"ml-2 text-sm font-semibold text-gray-900"},Ut={class:"ml-2 text-sm text-gray-400"},zt={class:"flex gap-4 items-center justify-self-end"},St=["onClick"],Ot=["onClick"],Pt=["onClick"],At={class:"w-full lg:w-1/3"},Jt={class:"mb-4"},Bt={class:"w-full rounded-2xl bg-white p-4 shadow-lg"},qt={class:"mb-6 flex items-center justify-between"},Gt={class:"flex items-center"},Ht=e("span",{class:"relative rounded-xl bg-blue-100 p-2"},null,-1),Kt={class:"flex flex-col"},Qt={class:"ml-2 font-bold text-black"},Wt=e("span",{class:"ml-2 text-sm text-gray-500"},"Available roles",-1),Xt={class:"flex items-center"},Yt={class:"rounded-full border border-gray-200 p-1"},Zt={class:"m-auto block"},es={class:"flex flex-col gap-2"},ts={class:"flex justify-between py-3 h-14 bg-gray-100"},ss={class:"p-3 text-md capitalize flex items-center"},os={class:"flex gap-4 p-3 items-center"},ls=["onClick"],as=["onClick"],ns=["onClick"],is={class:"mb-4"},cs={class:"w-full rounded-2xl bg-white p-4 shadow-lg"},rs=pe('<div class="mb-6 flex items-center justify-between"><div class="flex items-center"><span class="relative rounded-xl bg-blue-100 p-2"></span><div class="flex flex-col"><span class="ml-2 font-bold text-black">Leaderboard</span><span class="ml-2 text-sm text-gray-500"> Top Performers </span></div></div></div>',1),ms={class:"mb-4 flex items-center justify-between space-x-12"},ds={class:"flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-semibold text-green-700"},us={class:"m-auto block"},fs=e("a",{href:"#",class:"relative block"},[e("img",{alt:"Maurice Lokumba",src:q,class:"mx-auto h-10 w-10 rounded-full object-cover"})],-1),_s={class:"flex flex-col"},ps={class:"ml-2 text-sm font-semibold text-gray-900"},xs={class:"ml-2 text-sm text-gray-400"},gs={__name:"employees",props:{title:{type:String,default:""}},setup(v){const m=a([]),i=a([]),d=a(!1),l=a(!1),c=a({}),p=a(!1),r=a(0),o=a(!1),_=a(!1),b=a(!1),x=a({}),g=a(!1),V=a(""),T=a(!1),z=a({}),I=a(!1),S=a({}),G=new Date,H={weekday:"long",year:"numeric",month:"long",day:"numeric"},K=G.toLocaleDateString("en-US",H);function Q(t){d.value=!1,t!=null&&(console.log("the payload",t),m.value.push(t))}function W(t){c.value=t,l.value=!0}function X(t){l.value=!1,t!=null&&(console.log("the payload",t),m.value=m.value.map(n=>n.ID==t.ID?t:n))}function Y(t){r.value=t,p.value=!0}async function Z(){o.value=!0;const t=await w.delete(`http://localhost:3006/api/users/delete/${r.value}`);console.log(t),t.status==200,o.value=!1,m.value=m.value.filter(n=>n.ID!==r.value),p.value=!1}async function ee(){o.value=!0;const t=await w.delete(`http://localhost:3006/api/roles/delete/${V.value}`);console.log(t),t.status==200,o.value=!1,i.value=i.value.filter(n=>n.name!==V.value),g.value=!1}function te(){_.value=!1}function se(t){x.value=t,b.value=!0}function O(t){V.value=t,g.value=!0}function oe(t){b.value=!1,t!=null&&(console.log("the payload",t),i.value=i.value.map(n=>n.name==t.name?t:n))}function le(t){z.value=t,T.value=!0}function ae(t){S.value=t,I.value=!0}return U(async()=>{try{const t=await w.get("http://localhost:3006/api/users");m.value=t.data;const n=await w.get("http://localhost:3006/api/roles");i.value=n.data}catch(t){console.error("Error fetching data:",t),m.value=null}}),(t,n)=>{const P=ue,ne=Ee,ie=Se,ce=Ge,re=Ze,A=fe,me=dt,de=Ct;return s(),h("div",Nt,[e("div",Et,[e("div",Dt,[e("div",Ft,[e("div",Rt,[Mt,e("button",jt,[J(P,{class:"h-7 w-7",onClick:n[0]||(n[0]=u=>O(t.st.name))})])]),e("ul",null,[(s(!0),h(R,null,F(m.value,(u,M)=>(s(),h("li",{class:"my-6 flex items-center justify-between space-x-2",key:M},[e("a",Lt,[Vt,e("div",Tt,[e("span",It,y(u.firstName),1),e("span",Ut,y(u.email),1)])]),e("div",zt,[e("span",{class:"text-[#292a5e] text-sm font-medium hover:font-semibold duration-300 cursor-pointer",onClick:D=>ae(u)},"View",8,St),e("span",{class:"text-[#d4af37] text-sm font-medium hover:font-semibold duration-300 cursor-pointer",onClick:D=>W(u)}," Edit ",8,Ot),e("span",{class:"text-red-600 text-sm font-medium hover:font-semibold duration-300 cursor-pointer",onClick:D=>Y(u.ID)},"Delete",8,Pt)])]))),128))])])])]),e("div",At,[e("div",Jt,[e("div",Bt,[e("div",qt,[e("div",Gt,[Ht,e("div",Kt,[e("span",Qt,y(v.title||"Employee roles"),1),Wt])]),e("div",Xt,[e("button",Yt,[J(P,{class:"h-7 w-7 cursor-pointer",onClick:n[1]||(n[1]=u=>_.value=!0)})])])]),e("div",Zt,[e("div",es,[(s(!0),h(R,null,F(i.value,(u,M)=>(s(),h("div",ts,[e("p",ss,y(u.name),1),e("div",os,[e("span",{class:"text-[#292a5e] text-sm font-medium hover:font-semibold duration-300 cursor-pointer",onClick:D=>le(u)},"View",8,ls),e("span",{class:"text-[#d4af37] text-sm font-medium hover:font-semibold duration-300 cursor-pointer",onClick:D=>se(u)},"Edit",8,as),e("span",{class:"text-red-600 text-sm font-medium hover:font-semibold duration-300 cursor-pointer",onClick:D=>O(u.name)},"Delete",8,ns)])]))),256))])])])]),e("div",is,[e("div",cs,[rs,e("div",ms,[e("span",ds,y(_e(K)),1)]),e("div",us,[e("ul",null,[(s(!0),h(R,null,F(m.value.slice(0,2),(u,M)=>(s(),h("li",{class:"my-6 flex items-center space-x-2",key:M},[fs,e("div",_s,[e("span",ps,y(u.firstName),1),e("span",xs,y(u.email),1)])]))),128))])])])])]),d.value?(s(),f(ne,{key:0,onClose:Q})):$("",!0),l.value?(s(),f(ie,{key:1,userdata:c.value,onClose:X},null,8,["userdata"])):$("",!0),_.value?(s(),f(ce,{key:2,onClose:te})):$("",!0),b.value?(s(),f(re,{key:3,roledata:x.value,onClose:oe},null,8,["roledata"])):$("",!0),p.value?(s(),f(A,{key:4,entity:"employee",loading:o.value,onProceed:Z,onClose:n[2]||(n[2]=u=>p.value=!1)},null,8,["loading"])):$("",!0),g.value?(s(),f(A,{key:5,entity:"role",loading:o.value,onProceed:ee,onClose:n[3]||(n[3]=u=>g.value=!1)},null,8,["loading"])):$("",!0),T.value?(s(),f(me,{key:6,role:z.value,onClose:n[4]||(n[4]=u=>T.value=!1)},null,8,["role"])):$("",!0),I.value?(s(),f(de,{key:7,staff:S.value,onClose:n[5]||(n[5]=u=>I.value=!1)},null,8,["staff"])):$("",!0)])}}};export{gs as default};
