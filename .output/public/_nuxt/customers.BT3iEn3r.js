import{a as y,_ as V,b as L}from"./DeleteDialog.BdjaAveE.js";import{_ as P,a as A,b as J}from"./EditCustomerForm.BHvk9BI4.js";import{r as s,f as O,c as g,a as e,b as U,t as r,u as q,F as z,g as G,h as c,i as u,o as n}from"./entry.B6jrM4sW.js";const H={class:"flex flex-wrap sm:flex-row gap-8"},K={class:"w-full"},Q={class:"mb-4"},R={class:"w-full rounded-2xl bg-white p-4 shadow-lg"},W={class:"mb-6 flex items-center justify-between"},X={class:"flex items-center justify-between w-full"},Y=e("div",{class:"flex flex-col"},[e("span",{class:"ml-2 font-bold text-black"},"Customer List"),e("span",{class:"ml-2 text-xs text-gray-500"}," as of ")],-1),Z={class:"rounded-full border border-gray-200 p-1"},ee={class:"mb-4 flex items-center justify-between space-x-12"},te={class:"flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-semibold text-green-700"},oe={class:"m-auto block"},se={class:"w-full divide-y divide-gray-200"},ae=e("thead",{class:"bg-gray-100"},[e("tr",{class:""},[e("th",{class:"px-4 py-2 text-left"},"Full Name"),e("th",{class:"px-4 py-2 text-left"},"Email"),e("th",{class:"px-4 py-2 text-left"},"Consignments"),e("th",{class:"px-4 py-2 text-left"},"File Manager"),e("th",{class:"px-4 py-2 text-left"},"Actions")])],-1),le={class:"px-4 py-2"},ne={class:"px-4 py-2"},re={class:"px-4 py-2"},ce={class:"px-4 py-2"},ue={class:"flex items-center gap-6 px-4 py-2"},ie=["onClick"],de=["onClick"],me=["onClick"],ve={__name:"customers",props:{title:{type:String,default:""}},setup(pe){const C=[{id:1,fullName:"John Doe",email:"john.doe@example.com",consignments:10,fileManager:"Manager Name 1"},{id:2,fullName:"Jane Doe",email:"jane.doe@example.com",consignments:5,fileManager:"Manager Name 2"}],l=s([]),b=new Date,D={weekday:"long",year:"numeric",month:"long",day:"numeric"},w=b.toLocaleDateString("en-US",D),i=s(!1),d=s(!1),m=s(!1),p=s(!1),f=s({}),x=s({}),v=s({}),_=s(!1);function k(t){f.value=t,i.value=!0}function F(t){x.value=t,m.value=!0}function E(){d.value=!1,payload!=null&&(console.log("the payload",payload),l.value.push(payload))}function N(){m.value=!1,payload!=null&&(console.log("the payload",payload),l.value=l.value.map(t=>t.ID==payload.ID?payload:t))}function I(t){v.value=t,p.value=!0}async function M(){_.value=!0;const t=await y.delete(`http://localhost:3006/api/customer/delete/${v.value.ID}`);console.log(t),t.status==200,_.value=!1,l.value=l.value.filter(a=>a.ID!==employeeToDelete.value),showEmployeeDeleteDialog.value=!1}return O(async()=>{try{const t=await y.get("http://localhost:3006/api/customers");l.value=t.data}catch(t){console.error("Error fetching data:",t),l.value=null}}),(t,a)=>{const $=V,j=P,S=J,T=A,B=L;return n(),g("div",H,[e("div",K,[e("div",Q,[e("div",R,[e("div",W,[e("div",X,[Y,e("button",Z,[U($,{class:"h-7 w-7 cursor-pointer",onClick:a[0]||(a[0]=o=>d.value=!0)})])])]),e("div",ee,[e("span",te,r(q(w)),1)]),e("div",oe,[e("table",se,[ae,e("tbody",null,[(n(),g(z,null,G(C,o=>e("tr",{key:o.id},[e("td",le,r(o.fullName),1),e("td",ne,r(o.email),1),e("td",re,r(o.consignments),1),e("td",ce,r(o.fileManager),1),e("td",ue,[e("span",{class:"text-[#292a5e] text-sm font-medium hover:text-black duration-300 cursor-pointer",onClick:h=>k(o)},"View",8,ie),e("span",{class:"text-[#d4af37] text-sm font-medium hover:text-black duration-300 cursor-pointer",onClick:h=>F(o)}," Edit ",8,de),e("span",{class:"text-red-600 text-sm font-medium hover:text-black duration-300 cursor-pointer",onClick:h=>I(o)},"Delete",8,me)])])),64))])])])])])]),i.value?(n(),c(j,{key:0,customer:f.value,onClose:a[1]||(a[1]=o=>i.value=!1)},null,8,["customer"])):u("",!0),d.value?(n(),c(S,{key:1,onClose:E})):u("",!0),m.value?(n(),c(T,{key:2,customerdata:x.value,onClose:N},null,8,["customerdata"])):u("",!0),p.value?(n(),c(B,{key:3,entity:"customer",loading:_.value,onProceed:M,onClose:a[2]||(a[2]=o=>p.value=!1)},null,8,["loading"])):u("",!0)])}}};export{ve as default};
